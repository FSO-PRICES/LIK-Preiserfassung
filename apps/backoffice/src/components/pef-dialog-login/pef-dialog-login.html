<div class="pef-dialog-message">
    <h3>
        <pef-icon name="info-outlined"></pef-icon>
        Bitte Einloggen
    </h3>
    <form [formGroup]="form" class="stacked-form" (ngSubmit)="login$.emit()">
        <p>
            <ion-list no-lines>
                <ion-item class="pef-item">
                    <ion-label position="stacked">Benutzername</ion-label>
                    <ion-input
                        type="text"
                        formControlName="username"
                        autofocus
                        #username
                        (keyup.enter)="login$.emit()"
                    ></ion-input>
                </ion-item>
                <ion-item class="pef-item">
                    <ion-label position="stacked">Passwort</ion-label>
                    <ion-input type="password" formControlName="password" (keyup.enter)="login$.emit()"></ion-input>
                </ion-item>
            </ion-list>

            <span class="error" *ngIf="!!(loginError$ | async)">
                {{ loginError$ | async }}
            </span>
        </p>
        <div class="pef-dialog-login-button-row">
            <a (click)="navigateToSettings()" href="javascript:">
                Einstellungen bearbeiten
            </a>
            <ion-button type="submit" color="secondary">Login</ion-button>
        </div>
    </form>
</div>
